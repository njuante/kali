; ____       _       _                
;|  _ \ ___ | |_   _| |__   __ _ _ __    Lain Style
;| |_) / _ \| | | | | '_ \ / _` | '__|   Adapted from Ghost1nTh3SSH
;|  __/ (_) | | |_| | |_) | (_| | |      Tokyo Night Colors
;|_|   \___/|_|\__, |_.__/ \__,_|_|   
;               |___/         

;=====================================================
;                    COLORS - Tokyo Night
;=====================================================
[colors]
bg = #1a1b26
bg-alt = #24283b
fg = #c0caf5
fg-alt = #565f89
blue = #7aa2f7
purple = #bb9af7
cyan = #7dcfff
green = #9ece6a
red = #f7768e
yellow = #e0af68
orange = #ff9e64
bc = #7aa2f7

[global/wm]
margin-bottom = 0
margin-top = 0

[settings]
screenchange-reload = false
compositing-background = source
compositing-foreground = over
compositing-overline = over
compositing-underline = over
compositing-border = over
pseudo-transparency = false

;=====================================================
;                    BAR 1 - LEFT (System Info)
;=====================================================
[bar/lain-bar]
monitor-strict = false
override-redirect = true
bottom = false
fixed-center = true
width = 38%
height = 37
offset-x = 1%
offset-y = 5
background = ${colors.bg}
foreground = ${colors.fg}
radius = 0
line-size = 0
line-color = ${colors.blue}
border-size = 2
border-color = ${colors.blue}
padding = 2
module-margin-left = 0
module-margin-right = 0
; Text
font-0 = "JetBrainsMono Nerd Font:style=Bold:size=9;2"
; Icons
font-1 = "JetBrainsMono Nerd Font:size=15;3"
font-2 = "JetBrainsMono Nerd Font:size=12;2"
modules-left = launcher
modules-center = cpu memory filesystem
modules-right = date
separator = " | "
dim-value = 1.0
enable-ipc = true
cursor-click = pointer 
cursor-scroll =

;=====================================================
;                    BAR 2 - CENTER (Workspaces)
;=====================================================
[bar/lain-bar2]
monitor-strict = false
override-redirect = true
bottom = false
fixed-center = true
width = 20%
height = 37
offset-x = 40%
offset-y = 5
background = ${colors.bg}
foreground = ${colors.fg}
radius = 0
line-size = 0
line-color = ${colors.blue}
border-size = 2
border-color = ${colors.blue}
padding = 3
module-margin-left = 0
module-margin-right = 0
; Text
font-0 = "JetBrainsMono Nerd Font:style=Bold:size=10;2"
; Icons
font-1 = "JetBrainsMono Nerd Font:size=13;3"
modules-left = 
modules-center = bspwm
modules-right = 
separator = ""
dim-value = 1.0
enable-ipc = true
cursor-click = pointer 
cursor-scroll =

;=====================================================
;                    BAR 3 - RIGHT (Network/Pentest)
;=====================================================
[bar/lain-bar3]
monitor-strict = false
override-redirect = true
bottom = false
fixed-center = true
width = 38%
height = 37
offset-x = 61%
offset-y = 5
background = ${colors.bg}
foreground = ${colors.fg}
radius = 0
line-size = 0
line-color = ${colors.blue}
border-size = 2
border-color = ${colors.blue}
padding = 3
module-margin-left = 0
module-margin-right = 0
; Text
font-0 = "JetBrainsMono Nerd Font:style=Bold:size=10;2"
; Icons
font-1 = "JetBrainsMono Nerd Font:size=15;3"
modules-left = 
modules-center = localIP publicIP vpnIP targetIP
modules-right = 
separator = " | "
dim-value = 1.0
enable-ipc = true
cursor-click = pointer 
cursor-scroll =

;=====================================================
;                    MODULES - BAR 1
;=====================================================
[module/launcher]
type = custom/text
content = "󰣇 KALI"
content-foreground = ${colors.cyan}
click-left = rofi -show drun

[module/cpu]
type = internal/cpu
interval = 5
format = <label>
format-prefix = "󰻠 "
format-prefix-foreground = ${colors.blue}
label = "%percentage%%"

[module/memory]
type = internal/memory
interval = 5
format = <label>
format-prefix = "󰍛 "
format-prefix-foreground = ${colors.purple}
label = %used%

[module/filesystem]
type = internal/fs
mount-0 = /
interval = 60
fixed-values = true
format-mounted = <label-mounted>
format-mounted-prefix = "󰋊 "
format-mounted-prefix-foreground = ${colors.green}
label-mounted = "%used%"

[module/date]
type = internal/date
interval = 1
time = "%H:%M"
date-alt = "%a, %d %b"
format = <label>
format-prefix = "󰥔 "
format-prefix-foreground = ${colors.yellow}
label = %date%%time%

;=====================================================
;                    MODULES - BAR 2 (Workspaces)
;=====================================================
[module/bspwm]
type = internal/bspwm
enable-click = true
enable-scroll = true
reverse-scroll = true
pin-workspaces = true
occupied-scroll = false

format = <label-state>

; Focused workspace
label-focused = 󰮯
label-focused-padding = 1
label-focused-foreground = ${colors.cyan}

; Occupied workspace  
label-occupied = 󰊠
label-occupied-padding = 1
label-occupied-foreground = ${colors.green}

; Urgent workspace
label-urgent = 󰊠
label-urgent-padding = 1
label-urgent-foreground = ${colors.red}

; Empty workspace
label-empty = 󰑊
label-empty-foreground = ${colors.fg-alt}
label-empty-padding = 1

label-separator = " "
label-separator-foreground = ${colors.fg}

;=====================================================
;                    MODULES - BAR 3 (Network)
;=====================================================
[module/localIP]
type = custom/script
interval = 10
exec = ip -4 addr show eth0 2>/dev/null | grep -oP '(?<=inet\s)\d+(\.\d+){3}' | head -1 || echo "N/A"
format-prefix = "󰈀 "
format-prefix-foreground = ${colors.blue}

[module/publicIP]
type = custom/script
interval = 30
exec = curl -s https://ipinfo.io/ip 2>/dev/null || echo "N/A"
format-prefix = "󰇧 "
format-prefix-foreground = ${colors.yellow}

[module/vpnIP]
type = custom/script
interval = 10
exec = ip -4 addr show tun0 2>/dev/null | grep -oP '(?<=inet\s)\d+(\.\d+){3}' | head -1 || echo "N/A"
format-prefix = "󰖂 "
format-prefix-foreground = ${colors.green}

[module/targetIP]
type = custom/script
interval = 5
exec = cat ~/.config/bspwm/scripts/target 2>/dev/null || echo "No target"
format-prefix = "󰯐 "
format-prefix-foreground = ${colors.red}
